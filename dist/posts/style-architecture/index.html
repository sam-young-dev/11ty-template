<!doctype html><html lang="en" class="no-js"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="icon" href="/images/favicon.png" type="image/png"><title>Style architecture - Site Name</title><link rel="canonical" href="https://site.com/posts/style-architecture/"><meta property="og:site_name" content="Site Name"><meta property="og:title" content="Style architecture - Site Name"><meta property="og:type" content="website"><meta property="og:url" content="https://site.com/posts/style-architecture/"><script>document.documentElement.classList.remove('no-js');</script><link rel="stylesheet" href="/css/main.css"></head><body><div class="site-wrap"><a class="[ skip-link ] [ button ]" href="#main-content">Skip to content</a><header role="banner" class="site-head"><div class="wrapper"><div class="site-head__inner"><a href="/" aria-label="Site Name - home" class="site-head__brand"><img src="/images/outside.svg" alt="Outside logo"></a><nav class="[ nav ] [ site-head__nav ]" aria-label="Primary navigaton"><ul class="nav__list"><li class="nav__list-item"><a href="/gear">Gear</a></li><li class="nav__list-item"><a href="/adventure">Adventure</a></li><li class="nav__list-item"><a href="/travel">Travel</a></li><li class="nav__list-item"><a href="/culture">Culture</a></li><li class="nav__list-item"><a href="/long-reads">Long Reads</a></li><li class="nav__list-item"><a href="/video">Video</a></li><li class="nav__list-item"><a href="/podcast">Podcast</a></li></ul></nav></div></div></header><main tabindex="-1" id="main-content"><div class="[ post ] [ wrap ] [ flow ]"><article class="[ prose insulate additive-spacing ]"><header><h1>Style architecture</h1><p class="post-description">A short post about the approach to CSS architecture on this project</p><p class="post-meta">Posted by Svati Kirsten Narula on <time datetime="2019-10-29T00:00:00.000Z" class="dt-published">28th October 2019</time> (about a 6 minute read).</p><div class="hr"></div></header><p>Supermaya doesn't have a lot of specific CSS. The vast majority of the styles relate to layout with only a few classes having thematic or presentational styles. It's designed this way so that you can extend it by adding presentational styles.</p><p>If you want to extend the styles in this project you might notice they are written in a particular way. You might find this un-familiar or difficult to reason about at first. I've use specific conventions around style architecture that I've found to be scalable and maintainable for any size project. If you want to follow the same conventions I explain the methodologies here.</p><h2>Layout classes</h2><p>Layout classes in Supermaya are denoted with an <code>l-</code> prefix. I'm pretty specific about what a layout class is. It should have only <code>display</code>, <code>grid</code> or <code>flex</code> properties, sometimes <code>width</code>, <code>height</code> or <code>padding</code>, but never presentational properties like <code>background</code> or <code>font-size</code> or <code>color</code>. It should be mostly intuitive what is layout and what is presentational.</p><p>I also believe that <strong>layout components should own both sides of the parent &gt; child relationship</strong>. What this means is layout classes are responsible for applying layout properties to child elements. The reason for this is I try wherever possible to co-locate layout concerns. In modern CSS layout there is always a parent child relationship E.g. <code>flex-container</code> &gt; <code>flex-item</code>, or <code>grid-container</code> &gt; <code>grid-item</code>. When these styles are not co-located, this relationship is like a hidden dependency. Things break when we modify the styles on a child item or use it in a different container.</p><p>By separating layout styles from presentation styles and co-locating layout concerns we're able to refactor HTML and CSS much more freely. Adding items to a layout container is usually enough for them to acquire the correct styles for the child items. In practical terms it usually looks something like this:</p><pre><code class="language-css">.l-component {
  display: flex;
  flex-wrap: wrap;
}
.l-component &gt; * {
  flex-basis: 25%;
}
</code></pre><p>Liberal use of <code>&gt; *</code> will target all immediate child elements and you can use <code>&gt; .l-child-layout</code> where you need to be more specific.</p><p>I try to avoid child items that are presentational elements. For example if I was adding a styled button to a flex container I might wrap it in a child element, such as <code>l-media-object-button</code> in the example below:</p><pre><code class="language-html">&lt;div class="l-media-object"&gt;
  &lt;div class="l-media-object-button"&gt;
    &lt;button class="button"&gt;Submit&lt;/button&gt;
  &lt;/div&gt;
  &lt;p&gt;Some text&lt;/p&gt;
&lt;/div&gt;
</code></pre><p>This helps avoid the temptation to add layout styles to the presentational component <code>button</code> later. Without it, when we want to add more specific layout classes to the media object with a button we need to refactor the HTML to add a class to the button container.</p><h3>Layout modifiers</h3><p>Another approach to styling specific child elements in a layout component is to use a modifier class such as <code>l-media-object--button</code> a technique borrowed from OOCSS and BEM.</p><pre><code class="language-html">&lt;div class="l-media-object l-media-object--button"&gt;
  &lt;button class="button"&gt;Submit&lt;/button&gt;
  &lt;p&gt;Some text&lt;/p&gt;
&lt;/div&gt;
</code></pre><p>Here <code>l-media-object--button</code> is a variation of <code>l-media-object</code> where the first child is always a button. we use this class to override the default <code>flex-basis</code> on the <code>first-child</code> within the container:</p><pre><code class="language-css">.l-media-object {
  display: flex;
}
.l-media-object &gt; *:first-child {
  flex-basis: 25%;
}
.l-media-object--button &gt; *:first-child {
  flex-basis: 200px;
}
</code></pre><p>I've used both modifier classes and nested layout containers in Supermaya. The important thing is to keep the separation of layout and presentation and co-locate hiddent layout dependencies wherever possible. I strongly suggest avoiding layout and presentation classes on the same element.</p><p>When it's done well it should be possible to move towards a common set of reusable abstractions such as described by <a href="https://every-layout.dev/">https://every-layout.dev/</a>. This results in far less CSS which is easier to maintain.</p><h2>Presentational classes</h2><p>Presentational classes in Supermaya are not prefixed. Any class without an <code>l-</code> prefix is a presentational class or a utility class (or both). Presentational classes should not have <code>width</code>, <code>height</code>, <code>padding</code>, <code>display</code> or any other layout properties. This sometimes feels hard to do when you are not used to it. When it's done properly it means that all presentational components will be completely size-agnostic. They should be able to fill the space available inside any layout container.</p><p>If they don't have <code>padding</code> or <code>margin</code> it means the layout class is responsible for spacing and alignment. It should then be possible to move components around the page without refactoring. If something is not aligned, or spacing is not right it means the layout container is wrong.</p><p>Some of the hardest components to work with in this way are icons and images. For these I still recommend avoiding width and heights. If it's really needed I recommend using a utility classes.</p><h2>Utility classes</h2><p>There are not many utility classes in Supermaya which is why they are not prefixed. If you need more, it might be a good idea to prefix them with something like <code>u-</code>. Utility classes can be combined with presentational components or used on their own. They should do just one thing. Some examples are:</p><ul><li>apply the theme colors</li><li>hide elements intended for screen-readers</li><li>Set a size variation on an icon.</li></ul><p>Use this as an escape hatch when needed but try wherever possible to follow the principals regarding the separation of layout and presentation.</p><h2>Use of variables</h2><p>There are two types of variables used in Supermaya. Static <code>scss</code> variables and dynamic <code>custom-properties</code>. I try to define all variables including custom properties at the top of the a stylesheet. I keep the number of global variables to an absolute minimum.</p><p>If anything in my CSS changes because of a dynamic condition such as a media-query I make this a custom property. This allow me to define the logic separate to the presentation. An example looks like this:</p><pre><code class="language-scss">$bp-container: 800px;

.l-container {
  --container-margin: 0.5rem;
}

@media (min-width: $bp-container) {
  .l-container {
    --container-margin: 1rem;
  }
}

.l-container {
  margin: var(--container-margin);
}
</code></pre><p>Organising variables in this way means that there is only once place where I apply declarations to a class. I don't need to search the CSS to find out what is changing. Anywhere I see a <code>var()</code> statment I know this is a dynamic property and I can look to the top of the page to see the logic. If you are interested in finding out more about this I wrote a <a href="https://www.madebymike.com.au/writing/using-css-variables/">blog post about this approach</a>.</p></article><footer class="post-footer"><p class="post-tag-heading">Filed To:</p><ul class="post-tags"><li class="post-tag"><a class="link" href="/tags/demo-content">demo-content</a></li><li class="post-tag"><a class="link" href="/tags/sample-post">sample-post</a></li><li class="post-tag"><a class="link" href="/tags/blog">blog</a></li></ul></footer></div></main><footer role="content-info" class="site-foot"><div class="[ wrapper ] [ flow ] [ additive-spacing ]"><div class="[ site-foot__inner ] [ auto-grid ]"><article class="[ flow ]"><h3>Our Mission</h3><p>To inspire active participation in the world outside through award-winning coverage of the sports, people, places, adventure, discoveries, health and fitness, gear and apparel, trends and events that make up an active lifestyle.</p></article><article class="[ flow ]"><h3>Newsletter Sign Up</h3><p>Subscribe to our What You Missed newsletter for the top headlines from the outdoor world, in your inbox six days a week. Looking for something else? Check out <a href="#" class="link">our entire suite of free newsletters here</a>.</p><div class="[ site-foot__newsletter ] [ flow ]"><input type="text" placeholder="Enter email address"> <button type="submit" class="[ button ]">Sign Up</button> <small>This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy" class="link">Privacy Policy</a> and <a href="https://policies.google.com/terms" class="link">Terms of Service</a> apply.</small></div></article><article class="[ flow ]"><h3>Additional Links</h3><div class="[ site-foot-links ] [ smol-css-grid ]"><div class="site-foot-links__item"><a href="#">About</a> <a href="#">Media Kit</a> <a href="#">Careers</a> <a href="#">Subscribers</a> <a href="#">RSS</a> <a href="#">Feedback</a> <a href="#">Newsletters</a></div><div class="site-foot-links__item"><a href="#">Sitemap</a> <a href="#">About Our Ads</a> <a href="#">Terms and Conditions</a> <a href="#">Do Not Sell My Personal Information</a> <a href="#">Privacy Policy</a></div></div></article></div><hr class="site-foot-hr"><div class="[ site-foot__copy ]"><div class="site-logo site-logo--footer"><img src="/images/outside-logo.png" width="50" height="50"></div><p><small>Â© 2021 Outside Integrated Media, LLC</small></p></div></div></footer></div></body></html>